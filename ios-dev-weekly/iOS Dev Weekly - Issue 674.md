# [iOS Dev Weekly - Issue 674](https://iosdevweekly.com/issues/674)

## [NFCÂ &Â SE Platform for secure contactless transactions](https://developer.apple.com/support/nfc-se-platform/?utm_campaign=iOS%20Dev%20Weekly&utm_medium=web&utm_source=iOS%20Dev%20Weekly%20Issue%20674)

```
**NFC+SE**ã¯ã€ãƒ¢ãƒã‚¤ãƒ«ç«¯æœ«ã‚„ICã‚«ãƒ¼ãƒ‰ãªã©ã«é–¢é€£ã™ã‚‹æŠ€è¡“ã§ã€2ã¤ã®è¦ç´ ã‚’çµ„ã¿åˆã‚ã›ãŸã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

1. **NFCï¼ˆNear Field Communicationï¼‰**: è¿‘è·é›¢ç„¡ç·šé€šä¿¡æŠ€è¡“ã®ä¸€ç¨®ã§ã€10cmä»¥å†…ã®è·é›¢ã§ãƒ‡ãƒ¼ã‚¿ã‚’ã‚„ã‚Šå–ã‚Šã§ãã‚‹æŠ€è¡“ã§ã™ã€‚NFCã¯ã€é›»å­ãƒãƒãƒ¼ã®æ”¯æ‰•ã„ã€äº¤é€šæ©Ÿé–¢ã®ICã‚«ãƒ¼ãƒ‰ã€éµã®ä»£ã‚ã‚Šãªã©ã«ä½¿ã‚ã‚Œã¦ã„ã¾ã™ã€‚

2. **SEï¼ˆSecure Elementï¼‰**: ã‚»ã‚­ãƒ¥ã‚¢ãªãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜ã‚„ã€æ©Ÿå¯†æƒ…å ±ã®ã‚„ã‚Šå–ã‚Šã‚’å®‰å…¨ã«è¡Œã†ãŸã‚ã®å°‚ç”¨ã®ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢é ˜åŸŸã§ã™ã€‚SEã¯ã€æš—å·åŒ–ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚„æ±ºæ¸ˆæƒ…å ±ã€èªè¨¼æƒ…å ±ãªã©ã‚’ä¿ç®¡ã™ã‚‹ãŸã‚ã«åˆ©ç”¨ã•ã‚Œã¾ã™ã€‚SEã¯ã€å°‚ç”¨ã®ICãƒãƒƒãƒ—ã‚„SIMã‚«ãƒ¼ãƒ‰ã®ä¸­ã«çµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚

**NFC+SE**ã¨ã¯ã€NFCæ©Ÿèƒ½ã¨SEã‚’çµ„ã¿åˆã‚ã›ãŸæŠ€è¡“ã§ã€ç‰¹ã«**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãŒè¦æ±‚ã•ã‚Œã‚‹è¿‘è·é›¢é€šä¿¡**ï¼ˆä¾‹ï¼šãƒ¢ãƒã‚¤ãƒ«æ±ºæ¸ˆã‚„é›»å­ãƒã‚±ãƒƒãƒˆï¼‰ã«ä½¿ã‚ã‚Œã¾ã™ã€‚ã“ã®çµ„ã¿åˆã‚ã›ã«ã‚ˆã£ã¦ã€ãƒ¢ãƒã‚¤ãƒ«ç«¯æœ«ã§å®‰å…¨ã«æ”¯æ‰•ã„ã‚’è¡Œã£ãŸã‚Šã€èªè¨¼ã‚’å—ã‘ãŸã‚Šã™ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

### ä¸»ãªç”¨é€”ï¼š
- **ãƒ¢ãƒã‚¤ãƒ«æ±ºæ¸ˆ**: NFCã§ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡ã—ã€SEã«ä¿å­˜ã•ã‚ŒãŸã‚«ãƒ¼ãƒ‰æƒ…å ±ã‚„æ”¯æ‰•ã„æƒ…å ±ã‚’å®‰å…¨ã«æ‰±ã†ã€‚
- **äº¤é€šç³»ICã‚«ãƒ¼ãƒ‰**: NFCã‚’ä½¿ã£ã¦æ”¹æœ­ã‚’é€šéã—ã€SEã«ä¿å­˜ã•ã‚ŒãŸä¹—è»Šå±¥æ­´ã‚„é›»å­ãƒãƒãƒ¼æ®‹é«˜ã‚’ç®¡ç†ã€‚
- **ãƒ‡ã‚¸ã‚¿ãƒ«ID**: NFCã¨SEã‚’ä½¿ã£ã¦ã€å€‹äººèªè¨¼ã‚’å®‰å…¨ã«è¡Œã†ã€‚
```

- ã“ã®ç”»é¢ã¨ã‹ã§ä½¿ãˆã‚‹ã£ã¦ã“ã¨ã ã‚ã†ã‹ã€‚

<img width="400" alt="image" src="https://i.imgur.com/TbiUtWb.png">

>ã“ã®æ©Ÿèƒ½ã§ã‚µã‚¤ãƒ‰/ãƒ›ãƒ¼ãƒ ãƒœã‚¿ãƒ³ã®ã€Œãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã€ãŒåˆ©ç”¨å¯èƒ½ã«ãªã‚‹ã®ã¯é©šãã§ã™ã€‚ğŸ‘

- ã‚­ãƒ¼ã¨ã‹ã¯å®Ÿç¾æ€§ã®ã‚ã‚‹ç”¨é€”ã¨ã—ã¦ã‚ã‚Šãã†ã€‚
- ã¡ã‚ƒã‚“ã¨å¯©æŸ»ãŒã‚ã‚‹ã€‚

## [String Catalog](https://stringcatalog.com/)
- æœ‰æ–™ã ã‘ã©ãƒ­ãƒ¼ã‚«ãƒ©ã‚¤ã‚ºã®PRã‚’è‡ªå‹•ã§ä½œæˆã—ã¦ãã‚Œã‚‹ã‚µãƒ¼ãƒ“ã‚¹

## [Concurrency Step\-by\-Step: A Network Request](https://www.massicotte.org/step-by-step-network-request?utm_campaign=iOS%20Dev%20Weekly&utm_medium=web&utm_source=iOS%20Dev%20Weekly%20Issue%20674)
- åŸºç¤ã‹ã‚‰Swift Concurrencyã®å®Ÿä¾‹ã‚’å®Ÿè£…ã—ã¦ã‚ã‹ã‚Šã‚„ã™ãã¦è‰¯ã‹ã£ãŸã€‚
- `task`ã‚„`MainActor.run`ã®ãƒãƒƒãƒ‰ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã¨ã„ã†ã“ã¨ã‚‚è¦šãˆã¦ãŠã

```swift
import SwiftUI

struct ContentView: View {
    
    @State private var cgImage: CGImage?
    
    var body: some View {
        LoadedImageView(cgImage: cgImage)
            .task {
                // SwiftUIã®Viewã¯\@MainActorãªã®ã§ã€Taskå†…ã¯ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰ã§å®Ÿè¡Œã•ã‚Œã‚‹
                // ãŸã ã—loadImageAsyncå†…ã®å‡¦ç†ã®ã‚¹ãƒ¬ãƒƒãƒ‰ãŒã©ã†ã‹ã¯å•ã‚ãªã„
                // self.cgImageã®æ›´æ–°ã¯ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰ã§è¡Œã‚ã‚Œã‚‹(å‹¿è«–ãƒ¡ã‚¤ãƒ³å¿…é ˆ)
                self.cgImage = await loadImageAsync()
            }
    }
    
    /// éåŒæœŸã®ç”»åƒã®å–å¾—
    /// Viewã®ç”»åƒã®æ›´æ–°ã¾ã§ã¯è¡Œã‚ãšã€ç”»åƒå–å¾—ã¾ã§ã¨ã™ã‚‹ã“ã¨ã§å®Ÿè¡Œã‚¹ãƒ¬ãƒƒãƒ‰ã‚’æ˜ç¢ºã«ã§ãã‚‹
    /// nonisolated: Actorã®æ¨è«–ã‚’æ­¢ã‚ã‚‹ã€‚ã“ã“ã§ã¯MainAcrotã§ã¯ãªããƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¹ãƒ¬ãƒƒãƒ‰ã§å®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ã‚’æ„å‘³ã™ã‚‹
    private nonisolated func loadImageAsync() async -> CGImage? {
        let request = URLRequest(url: URL(string: "https://robohash.org/hash-this-text.png")!)
        guard
            // URLSessionã®ãƒ¡ã‚½ãƒƒãƒ‰ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã®å¦‚ä½•ã¯å•ã‚ãªã„
            let (data, _) = try? await URLSession.shared.data(for: request),
            let provider = CGDataProvider(data: data as CFData)
        else {
            return nil
        }
        return CGImage(
            pngDataProviderSource: provider,
            decode: nil,
            shouldInterpolate: false,
            intent: .defaultIntent
        )
    }
}

struct LoadedImageView: View {
    let cgImage: CGImage?
    
    var body: some View {
        if let cgImage {
            Image(cgImage, scale: 1.0, label: Text("Robot"))
        } else {
            Text("no robot yet")
        }
    }
}

#Preview("ContentView") {
    ContentView()
}

#Preview("LoadedImageView") {
    LoadedImageView(cgImage: nil)
}
```



## [Recursive enums in Swift](https://nilcoalescing.com/blog/RecursiveEnumsInSwift/?utm_campaign=iOS%20Dev%20Weekly&utm_medium=web&utm_source=iOS%20Dev%20Weekly%20Issue%20674)
- enumã§å†å¸°ã•ã›ã‚‹æ–¹æ³•: `indirect`
- ä¾‹ã¨ã—ã¦ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã®enum

```swift
enum FileSystemItem {
    case file(name: String)
    case folder(name: String, items: [FileSystemItem])
    indirect case alias(name: String, to: FileSystemItem)
}
```

## [An Initial Hands\-On with SwiftCloud](https://swifttoolkit.dev/posts/hello-swift-cloud?utm_campaign=iOS%20Dev%20Weekly&utm_medium=web&utm_source=iOS%20Dev%20Weekly%20Issue%20674)

## [Developer guide to Swift AWS Lambdas](https://www.polpiella.dev/developer-guide-to-swift-aws-lambdas/?utm_campaign=iOS%20Dev%20Weekly&utm_medium=web&utm_source=iOS%20Dev%20Weekly%20Issue%20674)
