# [iOSDC Japan 2025: メモリ不足との戦い〜大量データを扱うアプリ… / ああうえ - YouTube](https://www.youtube.com/watch?v=xyDoHEA2dGg)

- [メモリ不足との戦い〜大量データを扱うアプリでの実践例〜 - Speaker Deck](https://speakerdeck.com/kwzr/memoribu-zu-tonozhan-i-da-liang-detawoxi-uapuridenoshi-jian-li)

![](https://i.imgur.com/2ZGLn5m.jpeg)

![](https://i.imgur.com/nDoTyRx.jpeg)

![](https://i.imgur.com/YUxec8G.jpeg)

![](https://i.imgur.com/1hMm5tm.jpeg)

![](https://i.imgur.com/tUjRJmf.jpeg)

![](https://i.imgur.com/LPncIfk.jpeg)

![](https://i.imgur.com/ZNndc54.jpeg)

![](https://i.imgur.com/7lX7DqZ.jpeg)

![](https://i.imgur.com/yIHs9wB.jpeg)

メモリ不足の通知を取得できるメソッドがある

![](https://i.imgur.com/fAUScwb.jpeg)

![](https://i.imgur.com/KB5QNoq.jpeg)

WWDCのビデオでも対応方針が紹介されている

![](https://i.imgur.com/Q8R0zgt.jpeg)

![](https://i.imgur.com/2AJCUdx.jpeg)

- 下記の仕組みで多くのメモリを使えるようにしている
    - Clean: メモリが書き込まれていない
    - Compressed: メモリが書き込まれている_圧縮
    - Dirty: メモリが書き込まれている_非圧縮

![](https://i.imgur.com/1JrSvPM.jpeg)

![](https://i.imgur.com/D9birzY.jpeg)

使用されていない場合はメモリが圧縮される

![](https://i.imgur.com/fQfOR8x.jpeg)

![](https://i.imgur.com/miBYkyo.jpeg)

![](https://i.imgur.com/fPfzU8t.jpeg)

![](https://i.imgur.com/XMfAc5m.jpeg)

![](https://i.imgur.com/RDotbqm.jpeg)

![](https://i.imgur.com/1N0dEMj.jpeg)

![](https://i.imgur.com/6JY23z2.jpeg)

![](https://i.imgur.com/gF8Ecl3.jpeg)

![](https://i.imgur.com/gV5iz7E.jpeg)

![](https://i.imgur.com/qu8PeRq.jpeg)

![](https://i.imgur.com/HCdfyXR.jpeg)

![](https://i.imgur.com/hgsoasm.jpeg)

50%

![](https://i.imgur.com/edmaiV1.jpeg)

![](https://i.imgur.com/SSy0CFY.jpeg)

![](https://i.imgur.com/JSkYqnx.jpeg)

![](https://i.imgur.com/6KIT8YO.jpeg)

![](https://i.imgur.com/GptDhsn.jpeg)

![](https://i.imgur.com/iQzs4bB.jpeg)

アプリの特性上圧縮されやすい故に発生する

![](https://i.imgur.com/smJu32A.jpeg)

![](https://i.imgur.com/FeFLh53.jpeg)

![](https://i.imgur.com/MfRenKI.jpeg)

まだメモリに余裕があるのにプロセスが落ちることがあり、そのため下記の対応が必要だった。

![](https://i.imgur.com/jKTiRkS.jpeg)

![](https://i.imgur.com/p1gqq9v.jpeg)

![](https://i.imgur.com/CJVESGo.jpeg)

![](https://i.imgur.com/4EjBjWo.jpeg)

![](https://i.imgur.com/zcuZyOY.jpeg)

![](https://i.imgur.com/Axnj3gQ.jpeg)

![](https://i.imgur.com/leqIdK9.jpeg)

![](https://i.imgur.com/S2VNUH2.jpeg)

# 質疑応答

- カーネルの実装方法の追い方。何万行もあるので、Cursorで相談しながら該当しそうな処理を探した
